skill:
  name: jackson-migrator
  version: 1.2.0
  description: Migrate Jackson 2.x to 3.x including groupId changes, import updates, exception handling, and documentation updates

  transformations:
    - id: jackson-imports
      version: 1.0.0
      description: Update import statements from com.fasterxml.jackson to tools.jackson
      detection: "import com\\.fasterxml\\.jackson\\.(core|databind|dataformat|datatype|module)"

    - id: jackson-groupid
      version: 1.0.0
      description: Update Maven/Gradle groupId from com.fasterxml.jackson to tools.jackson
      detection: "com\\.fasterxml\\.jackson\\.core|com\\.fasterxml\\.jackson\\.databind"

    - id: jackson-exception-handling
      version: 1.1.0
      description: Update exception class references from JsonProcessingException to JacksonException
      detection: "JsonProcessingException|JsonMappingException"

    - id: jackson-bom
      version: 1.0.0
      description: Add Jackson BOM for version management
      detection: "tools\\.jackson.*jackson-databind"

    - id: jackson-annotations-preserve
      version: 1.0.0
      description: Verify Jackson annotations remain at com.fasterxml.jackson.annotation (no change needed)
      detection: "import com\\.fasterxml\\.jackson\\.annotation"

    - id: jackson-docs
      version: 1.2.0
      description: Update Jackson code examples and references in documentation files
      detection: "README\\.md|docs/.*\\.md"
      documentationTransformation: true
      targetFiles:
        - README.md
        - docs/migrations.md
        - docs/jackson-migration.md
        - docs/getting-started.md
        - docs/troubleshooting.md

  dependencies:
    - skill: build-runner
      minVersion: 1.0.0
    - skill: migration-state
      minVersion: 1.0.0
